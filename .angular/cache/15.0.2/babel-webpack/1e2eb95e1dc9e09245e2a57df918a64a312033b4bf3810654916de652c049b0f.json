{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Usage } from 'src/app/models/usages';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../picker/picker.component\";\nfunction FiltersModalComponent_ion_item_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-checkbox\", 8);\n    i0.ɵɵlistener(\"ionChange\", function FiltersModalComponent_ion_item_21_Template_ion_checkbox_ionChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onCheck($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const u_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", u_r1.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(u_r1.value);\n  }\n}\nexport class UsageMap extends Map {}\nexport class FiltersModalComponent {\n  constructor(modalCtrl) {\n    this.modalCtrl = modalCtrl;\n    this.filter = new EventEmitter();\n    this.usage = new UsageMap();\n    this.radius = 0;\n    this.favoriteUsers = [];\n    this.allUsages = [Usage.edible, Usage.inedible];\n  }\n  cancel() {\n    return this.modalCtrl.dismiss(null, 'cancel');\n  }\n  confirm() {\n    const form = {\n      favoriteUsers: this.favoriteUsers,\n      usage: Array.from(this.usage.values()),\n      radius: this.radius\n    };\n    return this.modalCtrl.dismiss(form);\n  }\n  onChoosenUser(users) {\n    console.log({\n      users\n    });\n  }\n  onCheck(e) {\n    const event = e;\n    const usage = event.detail.value;\n    const isChecked = event.detail.checked;\n    if (isChecked) this.usage.set(usage, usage);\n    if (!isChecked) this.usage.delete(usage);\n  }\n  ngOnInit() {}\n}\nFiltersModalComponent.ɵfac = function FiltersModalComponent_Factory(t) {\n  return new (t || FiltersModalComponent)(i0.ɵɵdirectiveInject(i1.ModalController));\n};\nFiltersModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FiltersModalComponent,\n  selectors: [[\"app-filters-modal\"]],\n  outputs: {\n    filter: \"filter\"\n  },\n  decls: 28,\n  vars: 9,\n  consts: [[\"slot\", \"start\"], [\"color\", \"medium\", 3, \"click\"], [\"slot\", \"end\"], [3, \"click\"], [1, \"ion-padding\"], [3, \"pageSize\", \"choosenUser\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ticks\", \"snaps\", \"min\", \"max\", \"ngModel\", \"ngModelChange\"], [\"slot\", \"start\", 3, \"value\", \"ionChange\"]],\n  template: function FiltersModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0)(3, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function FiltersModalComponent_Template_ion_button_click_3_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(4, \"Cancel\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"ion-title\");\n      i0.ɵɵtext(6, \"Filtres\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"ion-buttons\", 2)(8, \"ion-button\", 3);\n      i0.ɵɵlistener(\"click\", function FiltersModalComponent_Template_ion_button_click_8_listener() {\n        return ctx.confirm();\n      });\n      i0.ɵɵtext(9, \"Confirm\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"ion-content\", 4);\n      i0.ɵɵelement(11, \"hr\");\n      i0.ɵɵelementStart(12, \"ion-title\")(13, \"h3\");\n      i0.ɵɵtext(14, \"Utilisateurs\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"app-picker\", 5);\n      i0.ɵɵlistener(\"choosenUser\", function FiltersModalComponent_Template_app_picker_choosenUser_15_listener($event) {\n        return ctx.onChoosenUser($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"hr\");\n      i0.ɵɵelementStart(17, \"ion-title\")(18, \"h3\");\n      i0.ɵɵtext(19, \"Usage\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"ion-list\", 4);\n      i0.ɵɵtemplate(21, FiltersModalComponent_ion_item_21_Template, 4, 2, \"ion-item\", 6);\n      i0.ɵɵpipe(22, \"keyvalue\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"hr\");\n      i0.ɵɵelementStart(24, \"ion-title\")(25, \"h3\");\n      i0.ɵɵtext(26, \"Radius\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"ion-range\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function FiltersModalComponent_Template_ion_range_ngModelChange_27_listener($event) {\n        return ctx.radius = $event;\n      });\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"pageSize\", 3);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(22, 7, ctx.allUsages));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ticks\", true)(\"snaps\", true)(\"min\", 0)(\"max\", 10)(\"ngModel\", ctx.radius);\n    }\n  },\n  dependencies: [i2.NgForOf, i1.IonButton, i1.IonButtons, i1.IonCheckbox, i1.IonContent, i1.IonHeader, i1.IonItem, i1.IonLabel, i1.IonList, i1.IonRange, i1.IonTitle, i1.IonToolbar, i1.BooleanValueAccessor, i1.SelectValueAccessor, i3.NgControlStatus, i3.NgModel, i4.PickerComponent, i2.KeyValuePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoCA,YAAY,QAAQ,eAAe;AAGvE,SAASC,KAAK,QAAQ,uBAAuB;;;;;;;;;ICqBzCC,gCAA+C;IACAA;MAAAA;MAAA;MAAA,OAAaA,qCAAe;IAAA,EAAC;IAC1EA,iBAAe;IACfA,iCAAW;IAAAA,YAAW;IAAAA,iBAAY;;;;IAFPA,eAAiB;IAAjBA,6CAAiB;IAEjCA,eAAW;IAAXA,gCAAW;;;ADrB5B,OAAM,MAAOC,QAAS,SAAQC,GAAkB;AAOhD,OAAM,MAAOC,qBAAqB;EAQhCC,YAAoBC,SAA0B;IAA1B,cAAS,GAATA,SAAS;IAPnB,WAAM,GAAG,IAAIP,YAAY,EAAc;IAEjD,UAAK,GAAa,IAAIG,QAAQ,EAAE;IAChC,WAAM,GAAW,CAAC;IAClB,kBAAa,GAAkB,EAAE;IACjC,cAAS,GAAY,CAACF,KAAK,CAACO,MAAM,EAAEP,KAAK,CAACQ,QAAQ,CAAC;EAEF;EAEjDC,MAAM;IACJ,OAAO,IAAI,CAACH,SAAS,CAACI,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC;EAC/C;EAEAC,OAAO;IACL,MAAMC,IAAI,GAAG;MACXC,aAAa,EAAE,IAAI,CAACA,aAAa;MACjCC,KAAK,EAAEC,KAAK,CAACC,IAAI,CAAC,IAAI,CAACF,KAAK,CAACG,MAAM,EAAE,CAAC;MACtCC,MAAM,EAAE,IAAI,CAACA;KACd;IACD,OAAO,IAAI,CAACZ,SAAS,CAACI,OAAO,CAACE,IAAI,CAAC;EACrC;EAEAO,aAAa,CAACC,KAAoB;IAChCC,OAAO,CAACC,GAAG,CAAC;MAAEF;IAAK,CAAE,CAAC;EACxB;EAEAG,OAAO,CAACC,CAAQ;IACd,MAAMC,KAAK,GAAGD,CAAgB;IAC9B,MAAMV,KAAK,GAAGW,KAAK,CAACC,MAAM,CAACC,KAAK;IAChC,MAAMC,SAAS,GAAGH,KAAK,CAACC,MAAM,CAACG,OAAO;IACtC,IAAID,SAAS,EAAE,IAAI,CAACd,KAAK,CAACgB,GAAG,CAAChB,KAAK,EAAEA,KAAK,CAAC;IAC3C,IAAI,CAACc,SAAS,EAAE,IAAI,CAACd,KAAK,CAACiB,MAAM,CAACjB,KAAK,CAAC;EAC1C;EAEAkB,QAAQ,IAAI;;;mBAnCD5B,qBAAqB;AAAA;;QAArBA,qBAAqB;EAAA6B;EAAAC;IAAAC;EAAA;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCblCtC,kCAAY;MAGqBA;QAAA,OAASuC,YAAQ;MAAA,EAAC;MAACvC,sBAAM;MAAAA,iBAAa;MAEnEA,iCAAW;MAAAA,uBAAO;MAAAA,iBAAY;MAC9BA,sCAAwB;MACVA;QAAA,OAASuC,aAAS;MAAA,EAAC;MAACvC,uBAAO;MAAAA,iBAAa;MAI1DA,uCAAiC;MAC/BA,sBAAI;MACJA,kCAAW;MACLA,6BAAY;MAAAA,iBAAK;MAEvBA,sCAAiE;MAAtCA;QAAA,OAAeuC,yBAAqB;MAAA,EAAC;MAACvC,iBAAa;MAE9EA,sBAAI;MACJA,kCAAW;MACLA,sBAAK;MAAAA,iBAAK;MAGhBA,oCAA8B;MAC5BA,kFAIW;;MACbA,iBAAW;MAEXA,sBAAI;MACJA,kCAAW;MACLA,uBAAM;MAAAA,iBAAK;MAEjBA,qCAAmF;MAArBA;QAAA;MAAA,EAAoB;MAACA,iBAAY;;;MAnBnFA,gBAAc;MAAdA,4BAAc;MAQAA,eAAqB;MAArBA,8DAAqB;MAWpCA,eAAc;MAAdA,4BAAc","names":["EventEmitter","Usage","i0","UsageMap","Map","FiltersModalComponent","constructor","modalCtrl","edible","inedible","cancel","dismiss","confirm","form","favoriteUsers","usage","Array","from","values","radius","onChoosenUser","users","console","log","onCheck","e","event","detail","value","isChecked","checked","set","delete","ngOnInit","selectors","outputs","filter","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\timot\\OneDrive\\Documents\\HEIG\\semestre-5\\DevMobile\\projet-shroom-share\\ShroomShare-front\\src\\app\\filters\\filters-modal\\filters-modal.component.ts","C:\\Users\\timot\\OneDrive\\Documents\\HEIG\\semestre-5\\DevMobile\\projet-shroom-share\\ShroomShare-front\\src\\app\\filters\\filters-modal\\filters-modal.component.html"],"sourcesContent":["import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { ChoosenUser } from '../../models/users';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Usage } from 'src/app/models/usages';\r\nimport { FilterForm } from '../../models/standard';\r\n\r\nexport class UsageMap extends Map<string, Usage> {}\r\n\r\n@Component({\r\n  selector: 'app-filters-modal',\r\n  templateUrl: './filters-modal.component.html',\r\n  styleUrls: ['./filters-modal.component.scss'],\r\n}) // eslint-disable-line\r\nexport class FiltersModalComponent implements OnInit {\r\n  @Output() filter = new EventEmitter<FilterForm>();\r\n\r\n  usage: UsageMap = new UsageMap();\r\n  radius: number = 0;\r\n  favoriteUsers: ChoosenUser[] = [];\r\n  allUsages: Usage[] = [Usage.edible, Usage.inedible];\r\n\r\n  constructor(private modalCtrl: ModalController) {}\r\n\r\n  cancel() {\r\n    return this.modalCtrl.dismiss(null, 'cancel');\r\n  }\r\n\r\n  confirm() {\r\n    const form = {\r\n      favoriteUsers: this.favoriteUsers,\r\n      usage: Array.from(this.usage.values()),\r\n      radius: this.radius,\r\n    };\r\n    return this.modalCtrl.dismiss(form);\r\n  }\r\n\r\n  onChoosenUser(users: ChoosenUser[]) {\r\n    console.log({ users });\r\n  }\r\n\r\n  onCheck(e: Event) {\r\n    const event = e as CustomEvent;\r\n    const usage = event.detail.value;\r\n    const isChecked = event.detail.checked;\r\n    if (isChecked) this.usage.set(usage, usage);\r\n    if (!isChecked) this.usage.delete(usage);\r\n  }\r\n\r\n  ngOnInit() {}\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button color=\"medium\" (click)=\"cancel()\">Cancel</ion-button>\r\n    </ion-buttons>\r\n    <ion-title>Filtres</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"confirm()\">Confirm</ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content class=\"ion-padding\">\r\n  <hr>\r\n  <ion-title>\r\n    <h3>Utilisateurs</h3>\r\n  </ion-title>\r\n  <app-picker [pageSize]=\"3\" (choosenUser)=\"onChoosenUser($event)\"></app-picker>\r\n\r\n  <hr>\r\n  <ion-title>\r\n    <h3>Usage</h3>\r\n  </ion-title>\r\n\r\n  <ion-list class=\"ion-padding\">\r\n    <ion-item *ngFor=\"let u of allUsages|keyvalue\">\r\n      <ion-checkbox slot=\"start\" value={{u.value}} (ionChange)=\"onCheck($event)\">\r\n      </ion-checkbox>\r\n      <ion-label>{{u.value}}</ion-label>\r\n    </ion-item>\r\n  </ion-list>\r\n\r\n  <hr>\r\n  <ion-title>\r\n    <h3>Radius</h3>\r\n  </ion-title>\r\n  <ion-range [ticks]=\"true\" [snaps]=\"true\" [min]=\"0\" [max]=\"10\" [(ngModel)]=\"radius\"></ion-range>\r\n</ion-content>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}